{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';import'../cssfile/ProductInput.css';// 스타일을 임포트\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ProductInput(){const[productnum,setProductnum]=useState('');const[arrivaldate,setArrivaldate]=useState('');const[price,setPrice]=useState('');const[category,setCategory]=useState('');const[imageurl,setImageurl]=useState(null);const[error,setError]=useState('');const[showCategoryOptions,setShowCategoryOptions]=useState(false);const navigate=useNavigate();// 폼 제출\nconst handleSubmit=async e=>{e.preventDefault();console.log('폼 제출 시 실행됨');if(!productnum||!arrivaldate||!price||!category||!imageurl){setError('입력 값을 비우지 마세요.');return;}const formData=new FormData();formData.append('productnum',productnum);formData.append('arrivaldate',arrivaldate);formData.append('price',price);formData.append('category',category);formData.append('image',imageurl);// 여기를 'image'로 수정\nformData.forEach((value,key)=>{console.log(`${key}:`,value);});try{console.log('FormData:',formData);const response=await fetch('http://localhost:8080/api/productinput',{method:'POST',body:formData});if(!response.ok){throw new Error('상품 추가 실패');}const data=await response.json();console.log('상품 추가 완료',data);// 상품 추가 성공 시 얼럿 표시\nalert('상품이 성공적으로 추가되었습니다!');navigate('/productinput');// 상품 추가 후 페이지 이동\n}catch(error){console.error('Error:',error);setError('상품 추가 중 오류 발생');}};// 이미지 파일 선택 시 상태 업데이트\nconst handleImageChange=e=>{const file=e.target.files[0];if(file){setImageurl(file);console.log('선택된 파일:',file);}};// 카테고리 선택\nconst handleCategorySelect=selectedCategory=>{setCategory(selectedCategory);setShowCategoryOptions(false);// 선택 후 옵션 목록 숨기기\n};// 홈으로 가는 버튼 클릭 핸들러\nconst goHome=()=>{navigate('/');// 홈 페이지로 이동\n};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uC0C1\\uD488 \\uB4F1\\uB85D\"}),/*#__PURE__*/_jsx(\"button\",{onClick:goHome,className:\"home-button\",children:\"\\uD648\\uC73C\\uB85C\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:`category-button ${category?'selected':''}`,onClick:()=>setShowCategoryOptions(!showCategoryOptions),children:category||'카테고리 선택'}),showCategoryOptions&&/*#__PURE__*/_jsx(\"ul\",{className:\"category-dropdown category-list\",children:['전자','가전','음식','건강'].map(cat=>/*#__PURE__*/_jsx(\"li\",{onClick:()=>handleCategorySelect(cat),className:category===cat?'selected':'',children:cat},cat))})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:productnum,onChange:e=>setProductnum(e.target.value),placeholder:\"\\uC81C\\uD488 \\uBC88\\uD638\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:arrivaldate,onChange:e=>setArrivaldate(e.target.value),placeholder:\"\\uC785\\uACE0\\uC77C\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:price,onChange:e=>setPrice(e.target.value),placeholder:\"\\uAC00\\uACA9\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:handleImageChange}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:error}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"\\uB4F1\\uB85D\\uD558\\uAE30\"})]})]});}export default ProductInput;","map":{"version":3,"names":["React","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","ProductInput","productnum","setProductnum","arrivaldate","setArrivaldate","price","setPrice","category","setCategory","imageurl","setImageurl","error","setError","showCategoryOptions","setShowCategoryOptions","navigate","handleSubmit","e","preventDefault","console","log","formData","FormData","append","forEach","value","key","response","fetch","method","body","ok","Error","data","json","alert","handleImageChange","file","target","files","handleCategorySelect","selectedCategory","goHome","children","className","onClick","onSubmit","type","map","cat","onChange","placeholder"],"sources":["C:/Users/USER/Desktop/발표 전/homereactCategory/src/components/ProductInput.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport '../cssfile/ProductInput.css';  // 스타일을 임포트\r\n\r\nfunction ProductInput() {\r\n    const [productnum, setProductnum] = useState('');\r\n    const [arrivaldate, setArrivaldate] = useState('');\r\n    const [price, setPrice] = useState('');\r\n    const [category, setCategory] = useState('');\r\n    const [imageurl, setImageurl] = useState(null);\r\n    const [error, setError] = useState('');\r\n    const [showCategoryOptions, setShowCategoryOptions] = useState(false);\r\n    const navigate = useNavigate();\r\n\r\n    // 폼 제출\r\nconst handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    console.log('폼 제출 시 실행됨');\r\n\r\n    if (!productnum || !arrivaldate || !price || !category || !imageurl) {\r\n        setError('입력 값을 비우지 마세요.');\r\n        return;\r\n    }\r\n\r\n    const formData = new FormData();\r\n    formData.append('productnum', productnum);\r\n    formData.append('arrivaldate', arrivaldate);\r\n    formData.append('price', price);\r\n    formData.append('category', category);\r\n    formData.append('image', imageurl); // 여기를 'image'로 수정\r\n\r\n    formData.forEach((value, key) => {\r\n        console.log(`${key}:`, value);\r\n    });\r\n\r\n    try {\r\n        console.log('FormData:', formData);\r\n        const response = await fetch('http://localhost:8080/api/productinput', {\r\n            method: 'POST',\r\n            body: formData,\r\n        });\r\n\r\n        if (!response.ok) {\r\n            throw new Error('상품 추가 실패');\r\n        }\r\n\r\n        const data = await response.json();\r\n        console.log('상품 추가 완료', data);\r\n\r\n        // 상품 추가 성공 시 얼럿 표시\r\n        alert('상품이 성공적으로 추가되었습니다!');\r\n        navigate('/productinput'); // 상품 추가 후 페이지 이동\r\n    } catch (error) {\r\n        console.error('Error:', error);\r\n        setError('상품 추가 중 오류 발생');\r\n    }\r\n};\r\n\r\n    // 이미지 파일 선택 시 상태 업데이트\r\n    const handleImageChange = (e) => {\r\n        const file = e.target.files[0];\r\n        if (file) {\r\n            setImageurl(file);\r\n            console.log('선택된 파일:', file);\r\n        }\r\n    };\r\n\r\n    // 카테고리 선택\r\n    const handleCategorySelect = (selectedCategory) => {\r\n        setCategory(selectedCategory);\r\n        setShowCategoryOptions(false); // 선택 후 옵션 목록 숨기기\r\n    };\r\n\r\n    // 홈으로 가는 버튼 클릭 핸들러\r\n    const goHome = () => {\r\n        navigate('/');  // 홈 페이지로 이동\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"header-container\">\r\n            <h2>상품 등록</h2>\r\n                <button onClick={goHome} className=\"home-button\">홈으로</button>\r\n            </div>\r\n            <form onSubmit={handleSubmit}>\r\n                {/* 카테고리 선택 드롭다운 */}\r\n                <div>\r\n                    <button\r\n                        type=\"button\"\r\n                        className={`category-button ${category ? 'selected' : ''}`}\r\n                        onClick={() => setShowCategoryOptions(!showCategoryOptions)}\r\n                    >\r\n                        {category || '카테고리 선택'}\r\n                    </button>\r\n                    {showCategoryOptions && (\r\n                        <ul className=\"category-dropdown category-list\">\r\n                            {['전자', '가전', '음식', '건강'].map((cat) => (\r\n                                <li\r\n                                    key={cat}\r\n                                    onClick={() => handleCategorySelect(cat)}\r\n                                    className={category === cat ? 'selected' : ''}\r\n                                >\r\n                                    {cat}\r\n                                </li>\r\n                            ))}\r\n                        </ul>\r\n                    )}\r\n                </div>\r\n\r\n                <input\r\n                    type=\"text\"\r\n                    value={productnum}\r\n                    onChange={(e) => setProductnum(e.target.value)}\r\n                    placeholder=\"제품 번호\"\r\n                />\r\n                <input\r\n                    type=\"date\"\r\n                    value={arrivaldate}\r\n                    onChange={(e) => setArrivaldate(e.target.value)}\r\n                    placeholder=\"입고일\"\r\n                />\r\n                <input\r\n                    type=\"number\"\r\n                    value={price}\r\n                    onChange={(e) => setPrice(e.target.value)}\r\n                    placeholder=\"가격\"\r\n                />\r\n                <input\r\n                    type=\"file\"\r\n                    onChange={handleImageChange}\r\n                />\r\n                {error && <p className=\"error\">{error}</p>}\r\n                <button type=\"submit\">등록하기</button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ProductInput;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}